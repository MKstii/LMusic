@using LMusic.Models;
@using LMusic.ViewModels.Friends;
@model FriendsSearchPageViewModel;
@{
    ViewData["Title"] = "Заявки";
}

@* @foreach (var user in Model.Users)
{
    <div>
        @user.Name
        @user.Id
    </div>
} *@

<div class="content-wrapper">
    <div class="block-friend">
        <div class="block-header-friend">
            <h1 class="header-friend">Заявки в друзья</h1>
        </div>
        <div>
        </div>
        <div class="friends">
            <ul class="list-friends">
                @foreach (var user in Model.Users)
                {
                    <li class="list-users-item">
                        <a href="/user/@user.Id">
                            <img class="avatar-friend-image" src="@user.PicPath" />
                            <span class="name-friend">@user.Name</span>
                        </a>
                        <div class="group-button-requests-answer">
                            <form class="form-accept-request" asp-action="acceptFriendRequest" asp-controller="Friends" method="post" enctype="multipart/form-data">
                                <input type="hidden" name="tgIdRequester" value="@user.Id">
                                <button type="submit" class="button button-accept-request">
                                    <span>Принять заявку</span>
                                </button>
                            </form>
                            <form class="form-accept-request" asp-action="denyFriendRequest" asp-controller="Friends" method="post" enctype="multipart/form-data">
                                <input type="hidden" name="tgIdRequester" value="@user.Id">
                                <button type="submit" class="button button-deny-request">
                                    <span>Отклонить заявку</span>
                                </button>
                            </form>
                        </div>
                    </li>
                }
            </ul>
        </div>
        <div class="block-pagination">
            @if (Model.MaxPage != 1)
            {
                @if (Model.Page > 1)
                {
                    <a class="link-arrow-pagin" href="/friends/search?filter=@ViewData["filter"]&page=@(Model.Page - 1)"><img class="icon-arrow-pagination" src="/img/icons8-back-50.png" /></a>
                }

                <span class="page-current-count">@Model.Page</span>

                @if (Model.Page < Model.MaxPage)
                {
                    <a class="link-arrow-pagin" href="/friends/search?filter=@ViewData["filter"]&page=@(Model.Page + 1)"><img class="icon-arrow-pagination" src="/img/icons8-стрелка-вправо-50.png" /></a>
                }
            }
        </div>
    </div>
</div>
